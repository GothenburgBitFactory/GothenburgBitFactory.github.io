<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>tasktools.org</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/favicon.ico">

    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Google Chart -->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        // Overall combined
        var data = google.visualization.arrayToDataTable([
          ['Version', 'Total'],
          ['2.1.2', 141],
          ['2.2.0', 142],
          ['2.3.0', 101],
          ['2.4.0', 272],
          ['2.4.1', 280],
          ['2.4.2', 139],
          ['2.4.3', 140],
          ['2.4.4', 132],
          ['2.5.0', 125],
          ['2.5.1',  95]
        ]);

        var options = {
          legend: { position: 'top', maxLines: 3 },
          bar: { groupWidth: '75%' },
          isStacked: false,
          colors: ['#007db1', '#8dc9e8', '#c8e2ea', '#8cc4a7', '#b42025', '#f59f1d', '#f5d312', '#aab300', '#909090'],
          height: 300
        };

        var chart = new google.visualization.BarChart(document.getElementById('chart_combined'));
        chart.draw(data, options);

        // Next
        var data = google.visualization.arrayToDataTable([
          ['Version', 'Init', 'Load', 'GC', 'Filter', 'Commit', 'Sort', 'Render', 'Hooks', 'Other', { role: 'annotation' }],
          ['2.1.2', 3044, 158821, 46662, 31652, 0, 58850, 643, 0, 0, ''],
          ['2.2.0', 2463, 156515, 43507, 29759, 0, 54690, 631, 0, 0, ''],
          ['2.3.0', 1802, 88244, 36005, 15568, 3, 22078, 330, 0, 0, ''],
          ['2.4.0', 1962, 139344, 36092, 24367, 2, 7969, 392, 0, 0, ''],
          ['2.4.1', 1895, 136035, 28844, 18974, 2, 7649, 378, 0, 0, ''],
          ['2.4.2', 1874, 84466, 30147, 19119, 4, 3343, 430, 0, 0, ''],
          ['2.4.3', 1895, 83233, 29130, 18863, 3, 4191, 435, 0, 0, ''],
          ['2.4.4', 1892, 82424, 28732, 18929, 2, 4248, 431, 0, 0, ''],
          ['2.5.0', 1768, 87124, 29246, 18070, 2, 4130, 432, 0, 7188, ''],
          ['2.5.1', 1651, 65956, 263, 13231, 2, 3964, 298, 0, 7512, '']
        ]);

        var options = {
          legend: { position: 'top', maxLines: 3 },
          bar: { groupWidth: '75%' },
          isStacked: true,
          colors: ['#007db1', '#8dc9e8', '#c8e2ea', '#8cc4a7', '#b42025', '#f59f1d', '#f5d312', '#aab300', '#909090'],
          height: 300
        };

        var chart = new google.visualization.BarChart(document.getElementById('chart_next'));
        chart.draw(data, options);

        // List
        data = google.visualization.arrayToDataTable([
          ['Version', 'Init', 'Load', 'GC', 'Filter', 'Commit', 'Sort', 'Render', 'Hooks', 'Other', { role: 'annotation' }],
          ['2.1.2', 3037, 158363, 45681, 30612, 0, 46361, 156659, 0, 0, ''],
          ['2.2.0', 2438, 157754, 43640, 29598, 0, 45763, 101535, 0, 0, ''],
          ['2.3.0', 1760, 88281, 36130, 15663, 4, 22961, 53592, 0, 0, ''],
          ['2.4.0', 1972, 141818, 36180, 24341, 2, 21037, 85763, 0, 0, ''],
          ['2.4.1', 1891, 135767, 28968, 18992, 2, 19993, 82716, 0, 0, ''],
          ['2.4.2', 1867, 83547, 29343, 19359, 3, 20027, 110939, 0, 0, ''],
          ['2.4.3', 1934, 83264, 29417, 19010, 4, 21469, 108914, 0, 0, ''],
          ['2.4.4', 1924, 82427, 28814, 19028, 2, 21372, 107324, 0, 0, ''],
          ['2.5.0', 1778, 87086, 29215, 17435, 2, 22206, 95733, 0, 13480, ''],
          ['2.5.1', 1651, 65940, 262, 12218, 2, 23547, 57576, 0, 14341, '']
        ]);

        options = {
          legend: { position: 'top', maxLines: 3 },
          bar: { groupWidth: '75%' },
          isStacked: true,
          colors: ['#007db1', '#8dc9e8', '#c8e2ea', '#8cc4a7', '#b42025', '#f59f1d', '#f5d312', '#aab300', '#909090'],
          height: 300
        };

        var chart = new google.visualization.BarChart(document.getElementById('chart_list'));
        chart.draw(data, options);

        // All
        data = google.visualization.arrayToDataTable([
          ['Version', 'Init', 'Load', 'GC', 'Filter', 'Commit', 'Sort', 'Render', 'Hooks', 'Other', { role: 'annotation' }],
          ['2.1.2', 3168, 159130, 45344, 105685, 0, 39765, 768738, 0, 0, ''],
          ['2.2.0', 2411, 156628, 43739, 100238, 0, 39227, 564100, 0, 0, ''],
          ['2.3.0', 1853, 88095, 35896, 45830, 3, 10751, 302653, 0, 0, ''],
          ['2.4.0', 1940, 138645, 35901, 23299, 2, 115162, 488566, 0, 0, ''],
          ['2.4.1', 1853, 136854, 29081, 18458, 2, 113593, 476865, 0, 0, ''],
          ['2.4.2', 1919, 83099, 29247, 18792, 4, 111061, 552865, 0, 0, ''],
          ['2.4.3', 1883, 83381, 29127, 17511, 4, 115331, 548139, 0, 0, ''],
          ['2.4.4', 1900, 82496, 28618, 17272, 2, 113523, 536557, 0, 0, ''],
          ['2.5.0', 1763, 87176, 29271, 69, 2, 129089, 490404, 0, 62815, ''],
          ['2.5.1', 1642, 65324, 268, 70, 2, 134191, 230144, 0, 55903, '']
        ]);

        options = {
          legend: { position: 'top', maxLines: 3 },
          bar: { groupWidth: '75%' },
          isStacked: true,
          colors: ['#007db1', '#8dc9e8', '#c8e2ea', '#8cc4a7', '#b42025', '#f59f1d', '#f5d312', '#aab300', '#909090'],
          height: 300
        };

        var chart = new google.visualization.BarChart(document.getElementById('chart_all'));
        chart.draw(data, options);

        // Add
        data = google.visualization.arrayToDataTable([
          ['Version', 'Init', 'Load', 'GC', 'Filter', 'Commit', 'Sort', 'Render', 'Hooks', 'Other', { role: 'annotation' }],
          ['2.1.2', 3436, 42061, 0, 0, 160, 0, 0, 0, 0, ''],
          ['2.2.0', 2612, 42945, 0, 0, 157, 0, 0, 0, 0, ''],
          ['2.3.0', 1840, 24610, 0, 0, 168, 0, 0, 0, 0, ''],
          ['2.4.0', 2623, 139960, 0, 0, 170, 0, 0, 0, 0, ''],
          ['2.4.1', 2550, 135526, 0, 0, 162, 0, 0, 0, 0, ''],
          ['2.4.2', 2566, 23140, 0, 0, 168, 0, 0, 0, 0, ''],
          ['2.4.3', 2547, 23161, 0, 0, 172, 0, 0, 0, 0, ''],
          ['2.4.4', 2538, 22953, 0, 0, 173, 0, 0, 0, 0, ''],
          ['2.5.0', 1960, 24427, 0, 0, 168, 0, 0, 0, 4097, ''],
          ['2.5.1', 1845, 17608, 0, 0, 165, 0, 0, 0, 543, '']
        ]);

        options = {
          legend: { position: 'top', maxLines: 3 },
          bar: { groupWidth: '75%' },
          isStacked: true,
          colors: ['#007db1', '#8dc9e8', '#c8e2ea', '#8cc4a7', '#b42025', '#f59f1d', '#f5d312', '#aab300', '#909090'],
          height: 300
        };

        var chart = new google.visualization.BarChart(document.getElementById('chart_add'));
        chart.draw(data, options);

        // Export
        data = google.visualization.arrayToDataTable([
          ['Version', 'Init', 'Load', 'GC', 'Filter', 'Commit', 'Sort', 'Render', 'Hooks', 'Other', { role: 'annotation' }],
          ['2.1.2', 3132, 158124, 46328, 28237, 0, 0, 0, 0, 0, ''],
          ['2.2.0', 2480, 157444, 44065, 27523, 0, 0, 0, 0, 0, ''],
          ['2.3.0', 1764, 88367, 35863, 23078, 2, 0, 0, 0, 0, ''],
          ['2.4.0', 1977, 139165, 35924, 23338, 2, 0, 0, 0, 0, ''],
          ['2.4.1', 1852, 136177, 28858, 17966, 2, 0, 0, 0, 0, ''],
          ['2.4.2', 1879, 83386, 29349, 17972, 4, 0, 0, 0, 0, ''],
          ['2.4.3', 1888, 83543, 29987, 17428, 3, 0, 0, 0, 0, ''],
          ['2.4.4', 1902, 82430, 28829, 17274, 2, 0, 0, 0, 0, ''],
          ['2.5.0', 1843, 87200, 29344, 69, 2, 0, 125792, 0, 27748, ''],
          ['2.5.1', 1643, 65528, 271, 69, 2, 0, 106671, 0, 17844, '']
        ]);

        options = {
          legend: { position: 'top', maxLines: 3 },
          bar: { groupWidth: '75%' },
          isStacked: true,
          colors: ['#007db1', '#8dc9e8', '#c8e2ea', '#8cc4a7', '#b42025', '#f59f1d', '#f5d312', '#aab300', '#909090'],
          height: 300
        };

        var chart = new google.visualization.BarChart(document.getElementById('chart_export'));
        chart.draw(data, options);

        // Import
        data = google.visualization.arrayToDataTable([
          ['Version', 'Init', 'Load', 'GC', 'Filter', 'Commit', 'Sort', 'Render', 'Hooks', 'Other', { role: 'annotation' }],
          ['2.1.2', 3158, 137, 0, 0, 227299, 0, 0, 0, 0, ''],
          ['2.2.0', 2449, 137, 0, 0, 217164, 0, 0, 0, 0, ''],
          ['2.3.0', 1770, 140, 0, 0, 133305, 0, 0, 0, 0, ''],
          ['2.4.0', 2097, 202, 0, 0, 157211, 0, 0, 0, 0, ''],
          ['2.4.1', 2017, 211, 0, 0, 145675, 0, 0, 0, 0, ''],
          ['2.4.2', 1997, 124, 0, 0, 147540, 0, 0, 0, 0, ''],
          ['2.4.3', 2016, 133, 0, 0, 144470, 0, 0, 0, 0, ''],
          ['2.4.4', 2069, 141, 0, 0, 144573, 0, 0, 0, 0, ''],
          ['2.5.0', 1829, 223, 0, 0, 145585, 0, 0, 0, 767928, ''],
          ['2.5.1', 1671, 223, 0, 0, 74594, 0, 0, 0, 599583, '']
        ]);

        options = {
          legend: { position: 'top', maxLines: 3 },
          bar: { groupWidth: '75%' },
          isStacked: true,
          colors: ['#007db1', '#8dc9e8', '#c8e2ea', '#8cc4a7', '#b42025', '#f59f1d', '#f5d312', '#aab300', '#909090'],
          height: 300
        };

        var chart = new google.visualization.BarChart(document.getElementById('chart_import'));
        chart.draw(data, options);
      }
    </script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://tasktools.org">tasktools.org</a>
          <a class="navbar-brand" href="http://taskwarrior.org">taskwarrior.org</a>
          <a class="navbar-brand" href="http://holidata.net">holidata.net</a>
          <a class="navbar-brand" href="http://flod.us">flod.us</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/about.html">About</a></li>
          </ul>
        </div>
      </div>
    </div>
    <h2>&nbsp;</h2>

    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12 main">
          <h2>Taskwarrior Performance Testing</h2>
          <p>
            The performance charts are generated using
            <a href="https://google-developers.appspot.com/chart/">Google Charts</a>,
            and represent the results from running <code>make performance</code>
            for a release build. All times shown are microseconds (μs).

            <a href="https://en.wikipedia.org/wiki/Millisecond">
              The average human eye blink takes 350,000 μs
            </a>.
          </p>

          <p>
            The data used is the text of all the Shakespeare tragedies, with
            data manipulation that turns every spoken line into a task.
            The result is a sample data set that includes 2,129 pending tasks
            and 5,957 completed tasks. This yields an 8,086 task database.
            This data is then queried twice to warm any caches.
          </p>

          <p>
            The tests are all run on the same hardware, OS, and under similar
            load. Because of this, any OS upgrade or new hardware requires all
            tests to be re-run, and sometimes this is not possible because of
            toolchain differences.  It is expected that there will be minor
            variations between tests.
          </p>

          <p>
            Note: The 'other' category was introduced with 2.5.0 and
            represents the total runtime (launch to exit, measured internally),
            with all the other categories subtracted. It therefore represents
            unmeasured time.

            In the case of <code>export</code> and <code>import</code>, the
            'other' category is significant. With 2.5.0.beta3 the time spent
            converting tasks to JSON is counted as 'render' time.
          </p>

          <h3><code>All Tests Combined</code></h3>
          <p>
            Aggregated time (in seconds) for all 20 tests, by version.
            This total is measured externally, and therefore includes unmeasured time, and launch time.
            <div id="chart_combined"></div>
          </p>

          <h3><code>task next</code></h3>
          <p>
            This test yields only the pending tasks.
            This test is sensitive to changes in the <code>next</code> report definition.
            <div id="chart_next"></div>
          </p>

          <h3><code>task list</code></h3>
          <p>
            This test yields only the pending tasks.
            This test is sensitive to changes in the <code>list</code> report definition.
            <div id="chart_list"></div>
          </p>

          <h3><code>task all</code></h3>
          <p>
            This test yields all pending and completed tasks.
            This test is sensitive to changes in the <code>all</code> report definition.
            <div id="chart_all"></div>
          </p>

          <h3><code>task add</code></h3>
          <p>
            This test adds a task with project, priority, tags and an average-sized description.
            <div id="chart_add"></div>
          </p>

          <h3><code>task export</code></h3>
          <p>
            This test exports all 8,086 tasks to a JSON file.
            Starting with task-2.5.0.beta3, time spent composing JSON is measured as 'render' time.
            <div id="chart_export"></div>
          </p>

          <h3><code>task import</code></h3>
          <p>
             This test imports all 8,086 tasks from a JSON file.
             The 'other' category represents mostly JSON parsing.
            <div id="chart_import"></div>
        </div>
      </div>

      <hr>
      <footer>
        Copyright &copy; 2016, <a href="/about.html">Göteborg Bit Factory</a>.
      </footer>
    </div>

    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>

    <!-- Piwik -->
    <script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://see.tasktools.org/piwik/" : "http://see.tasktools.org/piwik/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 3);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://see.tasktools.org/piwik/piwik.php?idsite=3" style="border:0" alt="" /></p></noscript>
  </body>
</html>
